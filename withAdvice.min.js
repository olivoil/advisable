/**
 * withAdvice
 * Copyright(c) 2012 Olivier Melcher <olivier.melcher@gmail.com>
 * MIT Licensed
 */(function(){function noop(){}function extend(destination,source){for(var k in source)source.hasOwnProperty(k)&&(destination[k]=source[k]);return destination}function withAdvice(){this.before=before,this.after=after,this.around=around}function before(method,aspect){this[method]=doBefore(aspect,this[method])}function after(method,aspect){this[method]=doAfter(aspect,this[method])}function around(method,aspect){this[method]=doAround(aspect,this[method])}function doBefore(aspect,fn){return function(){return aspect.apply(this,arguments),fn.apply(this,arguments)}}function doAfter(aspect,fn){return function(){return result=aspect.apply(this,arguments),fn.apply(this,arguments),result}}function doAround(aspect,fn){return function(){return aspect.apply(this,fn,arguments)}}withAdvice.version="0.0.1","undefined"==typeof exports?window.withAdvice=withAdvice:module.exports=withAdvice,withAdvice.create=function(){var argsArray=[].slice.call(arguments),Ctor=function(attrs){extend(this,attrs),this.initialize.call(this,arguments)};return Ctor.prototype.initialize=noop,withAdvice.call(Ctor.prototype),argsArray.forEach(function(mixin){mixin.call(Ctor.prototype)}),Ctor}})();