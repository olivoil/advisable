/**
 * withAdvice
 * Copyright(c) 2012 Olivier Melcher <olivier.melcher@gmail.com>
 * MIT Licensed
 */!function(root){function withAdvice(){this.before=before,this.after=after,this.around=around}function before(method,aspect){this[method]=doBefore(aspect,this[method])}function after(method,aspect){this[method]=doAfter(aspect,this[method])}function around(method,aspect){this[method]=doAround(aspect,this[method])}function doBefore(aspect,fn){return function(){return aspect.apply(this,arguments),fn.apply(this,arguments)}}function doAfter(aspect,fn){return function(){var args=slice.call(arguments),result=fn.apply(this,args);return result&&args.unshift(result),aspect.apply(this,args),result}}function doAround(aspect,fn){return function(){var args=slice.call(arguments);return args.unshift(fn),aspect.apply(this,args)}}function compose(){var args=slice.call(arguments),base=args.shift();return withAdvice.call(base),args.forEach(function(mixin){mixin.call(base)}),base}var array=[],slice=array.slice;typeof exports=="undefined"?root.withAdvice=withAdvice:module.exports=withAdvice,withAdvice.version="0.0.3",withAdvice.compose=compose,withAdvice.before=before,withAdvice.after=after,withAdvice.around=around}(this);